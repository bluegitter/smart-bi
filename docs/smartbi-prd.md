# 用户需求文档

**项目名称：Smart BI**

------

## 一、项目背景

随着企业数字化转型的加速，数据驱动的决策需求日益强烈。传统BI系统在灵活性和智能化方面存在不足，难以快速响应业务变化。为了提升企业的数据分析与决策效率，需要一款支持大模型智能交互、可视化拖拽式布局和智能指标管理的智能BI产品。

**Smart BI** 的目标是打造一个“智能 + 灵活”的数据分析平台，使用户能够通过自然语言和可视化交互快速构建数据看板，并获得业务洞察。

------

## 二、项目目标

1. **支持大模型能力**：通过自然语言交互完成数据查询、报表生成和洞察分析。
2. **支持拖拽式布局**：用户可自由拖拽组件进行数据看板的布局调整。
3. **支持数据指标拖拽**：指标可直接拖拽至组件，实现灵活绑定和展示。
4. **支持自动生成看板**：根据用户问题的相关指标和维度，自动生成合理的数据看板布局。
5. **提升易用性**：降低用户的技术门槛，让非专业用户也能快速构建个性化BI报表。
6. **提升智能化**：自动推荐可视化图表、关键指标和数据洞察。

------

## 三、用户角色

- **业务分析师**：快速搭建可视化看板，支持业务部门数据决策。
- **部门经理**：关注关键业务指标，要求数据展示清晰直观。
- **高层管理者**：依赖智能化洞察和预测分析辅助决策。
- **IT/数据工程师**：主要负责底层数据集成与权限管理。

------

## 四、功能需求

### 4.1 大模型能力

- **自然语言查询**：用户输入自然语言问题（如“过去三个月销售额趋势”），系统自动转化为SQL并展示结果。
- **智能洞察生成**：大模型基于数据分析自动生成文字解读与预测。
- **语义纠错**：当用户提问模糊或不准确时，大模型可给出修正建议。

### 4.2 数据看板布局（拖拽式）

- **组件库支持**：表格、折线图、柱状图、饼图、卡片、仪表盘等。
- **拖拽布局**：用户可通过拖拽调整组件位置、大小、排列顺序。
- **栅格系统**：看板支持基于网格的对齐与布局。
- **多看板管理**：用户可保存多个看板并切换。

### 4.3 数据指标拖拽

- **指标面板**：展示所有可用指标（如销售额、利润率、转化率）。
- **拖拽绑定**：指标可直接拖拽至图表组件（如拖拽“销售额”至折线图Y轴）。
- **动态刷新**：拖拽完成后，图表自动刷新数据。
- **指标推荐**：系统可推荐适合的指标与可视化方式。

### 4.4 自动生成数据看板布局（新增）

- **智能指标识别**：系统通过大模型理解用户问题，从中提取相关指标和维度（如“近三个月销售额与利润趋势” → 指标：销售额、利润；维度：时间）。
- **自动布局生成**：根据指标和维度，系统自动选择合适的图表类型并生成初始看板：
  - 趋势型指标 → 折线图
  - 对比型指标 → 柱状图
  - 占比型指标 → 饼图
  - 单一关键指标 → 指标卡片
- **布局优化**：自动网格化排列，避免重叠，保证美观。
- **用户可编辑**：生成后的布局可拖拽调整、替换图表类型、修改指标绑定。
- **推荐增强**：生成布局后，推荐相关的辅助指标与维度。

### 4.5 其他辅助功能

- **权限管理**：支持不同用户的指标与看板权限控制。

- **数据源管理**：支持多数据源接入（数据库、Excel、API）。

- **导出分享**：支持看板导出PDF/图片/链接分享。

- **协作功能**：多人可共同编辑看板。

### 4.5 发布与共享功能（新增）

- **看板发布**：用户可将生成的看板发布为可访问链接，供其他用户查看。
- **权限控制**：
  - 公开链接：拥有链接的用户可查看
  - 内部共享：仅授权账号可访问
  - 编辑权限：可指定是否允许他人协作修改
- **多渠道分享**：支持链接、二维码形式，便于嵌入到文档、邮件或IM工具。

### 4.6 个性化配置与覆盖（新增）

- **全局看板配置**：系统提供统一的默认看板布局和指标展示方案。
- **用户个性化修改**：用户可在全局配置基础上进行个性化调整，包括：
  - **局部布局修改**：自由调整某些图表组件的位置与大小
  - **指标管理**：对指标进行显示、隐藏或替换
  - **个性化样式**：如图表颜色、标题、展示形式等
- **保存与覆盖**：
  - 用户可保存个人配置，生成 **个性化看板副本**
  - 支持选择覆盖全局看板（需管理员权限）或仅保存为个人配置
  - 支持版本管理，允许恢复到历史配置

------

## 五、非功能需求

- **性能要求**：常规查询响应时间 ≤ 3秒；复杂查询 ≤ 10秒。
- **安全要求**：支持用户登录鉴权、数据加密、审计日志。
- **可扩展性**：支持插件扩展（新增图表类型、大模型能力升级）。
- **兼容性**：支持PC Web端，后续扩展至移动端。

------

## 六、交互说明

1. **自然语言交互**
   - 用户输入问题 → 系统解析 → 返回图表与文字分析。
2. **看板拖拽交互**
   - 拖拽组件 → 自由布局 → 保存配置。
3. **指标拖拽交互**
   - 指标面板选择 → 拖拽至组件 → 自动渲染图表。
4. **自动生成看板交互**
   - 用户输入问题（如“我想看过去半年销售额与利润的对比”）。
   - 系统调用大模型解析问题 → 提取指标与维度。
   - 系统自动生成默认看板（销售额趋势图、利润趋势图、对比柱状图）。
   - 用户可直接使用，或继续拖拽优化布局。

------

## 七、成功指标（验收标准）

- 用户平均构建一个完整看板时间 ≤ 10分钟。
- 自然语言查询准确率 ≥ 85%。
- 自动生成看板的准确度 ≥ 80%。
- 用户对自动生成看板满意度 ≥ 85%。
- 用户在自动生成后进行手动调整的次数 ≤ 2次/看板。
- 用户满意度 ≥ 90%。

------

## 八、自动生成看板交互流程图（示意）

```
[用户输入问题]
        │
        ▼
[大模型解析用户语义]
        │
 ┌──────┼──────────┐
 │      │          │
 ▼      ▼          ▼
[提取指标]  [提取维度]  [理解意图]
        │
        ▼
[自动生成合适图表类型]
        │
        ▼
[自动布局生成初始看板]
        │
 ┌──────┼────────────┐
 │                      │
 ▼                      ▼
[用户直接使用]     [用户拖拽编辑/调整]
```

------
